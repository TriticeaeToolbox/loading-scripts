# CREATE THE T3 LOCUS ONTOLOGY FOR OAT

# LOAD THE T3 LOCUS ONTOLOGY
copy locus ontology .obo file into container
perl ./gmod_load_cvterms.pl -H breedbase_db -D cxgn_avena_test -d Pg -r postgres -p "^@noid-h" -s T3 -n t3_locus_ontology -uv ~/public/t3_locus_ontology.obo
perl ./gmod_make_cvtermpath.pl -H breedbase_db -D cxgn_avena_test -d Pg -u postgres -p "^@noid-h" -c t3_locus_ontology -v

# UPDATE SGN CONF
onto_root_namespaces        ..., TO (Trait Ontology), T3 (T3 Ontology)
loci_filter_onto            T3:T3_LC_ROOT
loci_filter_onto_gc         T3:T3_GC_CATEGORIES

# UPDATE INSTANCE
bb pull avena_sandbox

# TAG EXISTING UNIPROT PROTEINS
SELECT dbxref_id FROM public.cvterm WHERE name = 'UniProt Proteins'; --212961
SELECT dbxref_id FROM public.dbxref WHERE accession = 'is_a'; --19
SELECT sp_person_id FROM sgn_people.sp_person WHERE username = 'dwaring87'; --603

INSERT INTO phenome.locus_dbxref (locus_id, dbxref_id, obsolete, sp_person_id) 
SELECT locus_id, 212961, 'FALSE', 603 FROM phenome.locus
RETURNING locus_dbxref_id; --1 -> 2398

INSERT INTO phenome.locus_dbxref_evidence (locus_dbxref_id, relationship_type_id, evidence_code_id, sp_person_id, obsolete)
SELECT locus_dbxref_id, 19, 212961, 603, 'FALSE' FROM phenome.locus_dbxref WHERE locus_dbxref_id >= 1;

# CREATE / UPLOAD GENETIC CHARACTERS TEMPLATE
use genetic character descriptions from old site

# CREATE / UPLOAD GENETIC CHARACTER VALUES TEMPLATE
use genetic character descriptions from old site

# CREATE / UPLOAD GENETIC CHARACTER ASSOCIATIONS TEMPLATE
use bulk download from old site
Rename accesions in template:
MARION_CANADA -> MARION_QC
FORAGEPLUS -> FORAGE_PLUS
[0-9]{4} -> 0$1 (except 5445, 5446)
6-107 -> TAMO312
HIFI/SHERWOOD -> HIFIxSHERWOOD
LEGGET -> LEGGETT
WI_X6165-6 -> VISTA
STARTER/AMAG -> STARTERxAMAG
